{
  "datacenter": "{{ consul_cluster }}",
  "data_dir": "/opt/consul",
  "bind_addr": "0.0.0.0",
  "client_addr": "0.0.0.0",
  "bootstrap_expect": 3,
  "log_level": "INFO",
  "node_name": "{{ ansible_hostname }}",
  "server": true,
  {% if consul_acl %}
  "acl_datacenter": "{{ consul_acl_cluster }}",
  "acl_token": "{{ consul_token }}",
  {% endif %}
  "retry_join_ec2": {
      "region": "{{ region }}",
      "access_key_id": "{{ consul_node_key_id }}",
      "secret_access_key": "{{ consul_node_key_secret }}",
      "tag_key": "ConsulEnv",
      "tag_value": "{{ consul_cluster }}"
  },
}
